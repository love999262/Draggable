!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Draggable=e():t.Draggable=e()}(window,function(){return function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){"use strict";a.r(e);var n={$:function(t){return document.querySelector(t)},extend:function(t){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var r=t||{};return r instanceof Object&&e.forEach(function(t){t instanceof Object&&Object.keys(t).forEach(function(e){switch(Object.prototype.toString.call(t[e])){case"[object Object]":t[e]=n.extend(r[e],t[e])}r[e]=t[e]})}),r},parseToDOM:function(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]},find:function(t,e){return t.querySelector(e)},addClass:function(t,e){var a=t.getAttribute("class");a+=" "+e,t.setAttribute("class",a)},removeClass:function(t,e){t.getAttribute("class").replace(e,"")},throttle:function(t){var e,a=this.extend({method:function(){},wait:1e3,ctx:this,immediate:!0,arguments:[]},t);return function(){a.immediate&&(a.method.apply(a.ctx,a.arguments),a.immediate=!1),e||(e=setTimeout(function(){e=null,a.method.apply(a.ctx,a.arguments)},a.wait))}},setData:function(t,e,a){t.dataset?t.dataset.key=a:t.setAttribute("data-"+e,a)},getData:function(t,e){return t.dataset?t.dataset.key:t.getAttribute("data-"+e)},show:function(t){t.style.cssText+=";display"+this.getData(t,"display")},hide:function(t){var e=window&&window.getComputedStyle(t).display||"block";this.setData(t,"display",e),t.style.cssText+=";display: none;"}},r=n,i={start:"mousedown",move:"mousemove",stop:"mouseup"},s=function(){function t(t){this.dragging=!1,this.dragData={},this.config=t,this.container=r.$(t.selector),this.container.style.cssText+="cursor: "+this.config.cursor,this.registerEvent()}return t.prototype.registerEvent=function(){var t=this;this.container.addEventListener(i.start,function(e){t.onDragStart(e,t.dragData)}),document.addEventListener(i.move,function(e){t.dragData.deltaX=e.clientX-t.dragData.x,t.dragData.deltaY=e.clientY-t.dragData.y,t.onDrag(e,t.dragData)}),document.addEventListener(i.stop,function(e){t.dragData.lastX=e.clientX,t.dragData.lastY=e.clientY,t.onDragStop(e,t.dragData)})},t.prototype.onDragStart=function(t,e){this.dragging=!0;var a=getComputedStyle(this.container).transform;if("none"===a)return this.dragData.x=t.clientX,this.dragData.y=t.clientY,this.translateX=0,void(this.translateY=0);var n=a.split(",");this.translateX=Number(n[n.length-2]),this.translateY=Number(n[n.length-1].split(")")[0]),this.dragData.x=t.clientX-this.translateX,this.dragData.y=t.clientY-this.translateY},t.prototype.onDrag=function(t,e){if(this.dragging)switch(this.config.axis){case"both":this.container.style.cssText+="transform: translate("+this.dragData.deltaX+"px, "+this.dragData.deltaY+"px)";break;case"x":this.container.style.cssText+="transform: translate("+this.dragData.deltaX+"px, "+this.translateY+"px)";break;case"y":this.container.style.cssText+="transform: translate("+this.translateX+"px, "+this.dragData.deltaY+"px)";break;case"none":break;default:this.container.style.cssText+="transform: translate("+this.dragData.deltaX+"px, "+this.dragData.deltaY+"px)"}},t.prototype.onDragStop=function(t,e){this.dragData.deltaX=this.dragData.x-this.dragData.lastX,this.dragData.deltaY=this.dragData.y-this.dragData.lastY,this.dragging=!1},t}(),o=function(){return function(t){this.config=r.extend({axis:"both",cursor:"move"},t),this.draggableCore=new s(this.config)}}();e.default=o}]).default});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EcmFnZ2FibGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0RyYWdnYWJsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9EcmFnZ2FibGUvLi9zcmMvanMvdXRpbHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vRHJhZ2dhYmxlLy4vc3JjL2pzL3V0aWxzL2V2ZW50LnRzIiwid2VicGFjazovL0RyYWdnYWJsZS8uL3NyYy9qcy9jb21wb25lbnRzL2RyYWdnYWJsZS1jb3JlLnRzIiwid2VicGFjazovL0RyYWdnYWJsZS8uL3NyYy9qcy9jb21wb25lbnRzL2FwcC50cyIsIndlYnBhY2s6Ly9EcmFnZ2FibGUvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInV0aWxzIiwiJCIsInNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZXh0ZW5kIiwidGFyZ2V0IiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicmVzdWx0IiwiZm9yRWFjaCIsIm9iaiIsImtleXMiLCJ0b1N0cmluZyIsInBhcnNlVG9ET00iLCJzdHIiLCJlbGUiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiY2hpbGRyZW4iLCJmaW5kIiwicGFyZW50IiwiYWRkQ2xhc3MiLCJjbGFzc05hbWUiLCJ0bXBDbGFzcyIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUNsYXNzIiwicmVwbGFjZSIsInRocm90dGxlIiwiY29mIiwidGltZXIiLCJ0aGlzIiwibWV0aG9kIiwid2FpdCIsImN0eCIsImltbWVkaWF0ZSIsImFwcGx5Iiwic2V0VGltZW91dCIsInNldERhdGEiLCJkYXRhc2V0IiwiZ2V0RGF0YSIsInNob3ciLCJzdHlsZSIsImNzc1RleHQiLCJoaWRlIiwiZGlzcGxheVN0YXR1cyIsImdldENvbXB1dGVkU3R5bGUiLCJkaXNwbGF5IiwidXRpbHNfdXRpbHMiLCJ1dGlsc19ldmVudCIsInN0YXJ0IiwibW92ZSIsInN0b3AiLCJkcmFnZ2FibGVfY29yZSIsIkRyYWdnYWJsZUNvcmUiLCJjb25maWciLCJkcmFnZ2luZyIsImRyYWdEYXRhIiwiY29udGFpbmVyIiwiY3Vyc29yIiwicmVnaXN0ZXJFdmVudCIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJvbkRyYWdTdGFydCIsImRlbHRhWCIsImNsaWVudFgiLCJ4IiwiZGVsdGFZIiwiY2xpZW50WSIsInkiLCJvbkRyYWciLCJsYXN0WCIsImxhc3RZIiwib25EcmFnU3RvcCIsImRhdGEiLCJ0cmFuc1N0eWxlIiwidHJhbnNmb3JtIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ0cmFucyIsInNwbGl0IiwiTnVtYmVyIiwiYXhpcyIsImFwcCIsImRyYWdnYWJsZUNvcmUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxVQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLFVBQUFELElBRUFELEVBQUEsVUFBQUMsSUFS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VW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkRyYWdnYWJsZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJEcmFnZ2FibGVcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNvbnN0IHV0aWxzID0ge1xyXG4gICAgJChzZWxlY3Rvcjogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgIH0sXHJcbiAgICBleHRlbmQodGFyZ2V0OiBhbnksIC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0IHx8IHt9O1xyXG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBPYmplY3QpIHtcclxuICAgICAgICAgICAgYXJncy5mb3JFYWNoKChvYmo6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9ialtrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnW29iamVjdCBPYmplY3RdJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHV0aWxzLmV4dGVuZChyZXN1bHRba2V5XSwgb2JqW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSxcclxuICAgIHBhcnNlVG9ET00oc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBlbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBlbGUuaW5uZXJIVE1MID0gc3RyO1xyXG4gICAgICAgIHJldHVybiBlbGUuY2hpbGRyZW5bMF07XHJcbiAgICB9LFxyXG4gICAgZmluZChwYXJlbnQ6IEhUTUxFbGVtZW50LCBjaGlsZHJlbjogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKGNoaWxkcmVuKTtcclxuICAgIH0sXHJcbiAgICBhZGRDbGFzcyhlbGU6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGxldCB0bXBDbGFzczogc3RyaW5nID0gZWxlLmdldEF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgICAgICB0bXBDbGFzcyArPSBgICR7Y2xhc3NOYW1lfWA7XHJcbiAgICAgICAgZWxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0bXBDbGFzcyk7XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlQ2xhc3MoZWxlOiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCB0bXBDbGFzcyA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XHJcbiAgICAgICAgdG1wQ2xhc3MucmVwbGFjZShjbGFzc05hbWUsICcnKTtcclxuICAgIH0sXHJcbiAgICB0aHJvdHRsZShjb2Y6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLmV4dGVuZCh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogKCkgPT4ge30sIFxyXG4gICAgICAgICAgICB3YWl0OiAxMDAwLFxyXG4gICAgICAgICAgICBjdHg6IHRoaXMsXHJcbiAgICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgYXJndW1lbnRzOiBbXSxcclxuICAgICAgICB9LCBjb2YpO1xyXG4gICAgICAgIGxldCB0aW1lcjogbnVtYmVyO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChvLmltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICAgICAgby5tZXRob2QuYXBwbHkoby5jdHgsIG8uYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIG8uaW1tZWRpYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aW1lcikge1xyXG4gICAgICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgby5tZXRob2QuYXBwbHkoby5jdHgsIG8uYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH0sIG8ud2FpdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHNldERhdGEoZWxlOiBIVE1MRWxlbWVudCwga2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoZWxlLmRhdGFzZXQpIHtcclxuICAgICAgICAgICAgZWxlLmRhdGFzZXQua2V5ID0gdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxlLnNldEF0dHJpYnV0ZShgZGF0YS0ke2tleX1gLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGdldERhdGEoZWxlOiBIVE1MRWxlbWVudCwga2V5OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoZWxlLmRhdGFzZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZS5kYXRhc2V0LmtleTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlLmdldEF0dHJpYnV0ZShgZGF0YS0ke2tleX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvdyhlbGU6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgZWxlLnN0eWxlLmNzc1RleHQgKz0gYDtkaXNwbGF5JHt0aGlzLmdldERhdGEoZWxlLCAnZGlzcGxheScgfHwgJ2Jsb2NrJyl9YDtcclxuICAgIH0sXHJcbiAgICBoaWRlKGVsZTogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBkaXNwbGF5U3RhdHVzID0gd2luZG93ICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZSkuZGlzcGxheSB8fCAnYmxvY2snO1xyXG4gICAgICAgIHRoaXMuc2V0RGF0YShlbGUsICdkaXNwbGF5JywgZGlzcGxheVN0YXR1cyk7XHJcbiAgICAgICAgZWxlLnN0eWxlLmNzc1RleHQgKz0gJztkaXNwbGF5OiBub25lOyc7XHJcbiAgICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXRpbHM7XHJcbiIsIlxyXG5leHBvcnQgY29uc3QgZXZlbnRzID0ge1xyXG4gICAgc3RhcnQ6ICdtb3VzZWRvd24nLFxyXG4gICAgbW92ZTogJ21vdXNlbW92ZScsXHJcbiAgICBzdG9wOiAnbW91c2V1cCcsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBldmVudHM7XHJcbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IGV2ZW50cyBmcm9tICcuLy4uL3V0aWxzL2V2ZW50JztcclxuaW1wb3J0IHsgQ29uZmlnSW50ZXJmYWNlIH0gZnJvbSAnLi9hcHAnO1xyXG5cclxuaW50ZXJmYWNlIERhcmdEYXRhSW50ZXJmYWNlIHtcclxuICAgIC8vIHggLSBkZWx0YVggPT09IGxhc3RYXHJcbiAgICBub2RlPzogSFRNTEVsZW1lbnQ7XHJcbiAgICB4PzogbnVtYmVyO1xyXG4gICAgeT86IG51bWJlcjtcclxuICAgIGRlbHRhWD86IG51bWJlcjtcclxuICAgIGRlbHRhWT86IG51bWJlcjtcclxuICAgIGxhc3RYPzogbnVtYmVyO1xyXG4gICAgbGFzdFk/OiBudW1iZXI7XHJcbn1cclxuXHJcbmNsYXNzIERyYWdnYWJsZUNvcmUge1xyXG4gICAgY29uZmlnOiBDb25maWdJbnRlcmZhY2U7XHJcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG4gICAgZHJhZ2dpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGRyYWdEYXRhOiBEYXJnRGF0YUludGVyZmFjZSA9IHt9O1xyXG4gICAgdHJhbnNsYXRlWDogbnVtYmVyO1xyXG4gICAgdHJhbnNsYXRlWTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWdJbnRlcmZhY2UpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHV0aWxzLiQoY29uZmlnLnNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ICs9IGBjdXJzb3I6ICR7dGhpcy5jb25maWcuY3Vyc29yfWA7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KCk7XHJcbiAgICB9XHJcbiAgICByZWdpc3RlckV2ZW50KCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLnN0YXJ0LCAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0KGUsIHRoaXMuZHJhZ0RhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLm1vdmUsIChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ0RhdGEuZGVsdGFYID0gZS5jbGllbnRYIC0gdGhpcy5kcmFnRGF0YS54O1xyXG4gICAgICAgICAgICB0aGlzLmRyYWdEYXRhLmRlbHRhWSA9IGUuY2xpZW50WSAtIHRoaXMuZHJhZ0RhdGEueTtcclxuICAgICAgICAgICAgdGhpcy5vbkRyYWcoZSwgdGhpcy5kcmFnRGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuc3RvcCwgKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kcmFnRGF0YS5sYXN0WCA9IGUuY2xpZW50WDtcclxuICAgICAgICAgICAgdGhpcy5kcmFnRGF0YS5sYXN0WSA9IGUuY2xpZW50WTtcclxuICAgICAgICAgICAgdGhpcy5vbkRyYWdTdG9wKGUsIHRoaXMuZHJhZ0RhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25EcmFnU3RhcnQoZTogTW91c2VFdmVudCwgZGF0YT86IERhcmdEYXRhSW50ZXJmYWNlKSB7XHJcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgdHJhbnNTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXIpLnRyYW5zZm9ybTtcclxuICAgICAgICBpZiAodHJhbnNTdHlsZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ0RhdGEueCA9IGUuY2xpZW50WDtcclxuICAgICAgICAgICAgdGhpcy5kcmFnRGF0YS55ID0gZS5jbGllbnRZO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVkgPSAwO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRyYW5zOiBhbnkgPSB0cmFuc1N0eWxlLnNwbGl0KCcsJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNsYXRlWCA9IE51bWJlcih0cmFuc1t0cmFucy5sZW5ndGggLSAyXSk7XHJcbiAgICAgICAgdGhpcy50cmFuc2xhdGVZID0gTnVtYmVyKHRyYW5zW3RyYW5zLmxlbmd0aCAtIDFdLnNwbGl0KCcpJylbMF0pO1xyXG4gICAgICAgIHRoaXMuZHJhZ0RhdGEueCA9IGUuY2xpZW50WCAtIHRoaXMudHJhbnNsYXRlWDtcclxuICAgICAgICB0aGlzLmRyYWdEYXRhLnkgPSBlLmNsaWVudFkgLSB0aGlzLnRyYW5zbGF0ZVk7XHJcbiAgICB9XHJcbiAgICBvbkRyYWcoZTogTW91c2VFdmVudCwgZGF0YT86IERhcmdEYXRhSW50ZXJmYWNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmNvbmZpZy5heGlzKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdib3RoJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ICs9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke3RoaXMuZHJhZ0RhdGEuZGVsdGFYfXB4LCAke3RoaXMuZHJhZ0RhdGEuZGVsdGFZfXB4KWA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd4JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ICs9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke3RoaXMuZHJhZ0RhdGEuZGVsdGFYfXB4LCAke3RoaXMudHJhbnNsYXRlWX1weClgO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAneSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuY3NzVGV4dCArPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHt0aGlzLnRyYW5zbGF0ZVh9cHgsICR7dGhpcy5kcmFnRGF0YS5kZWx0YVl9cHgpYDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ICs9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke3RoaXMuZHJhZ0RhdGEuZGVsdGFYfXB4LCAke3RoaXMuZHJhZ0RhdGEuZGVsdGFZfXB4KWA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25EcmFnU3RvcChlOiBNb3VzZUV2ZW50LCBkYXRhPzogRGFyZ0RhdGFJbnRlcmZhY2UpIHtcclxuICAgICAgICB0aGlzLmRyYWdEYXRhLmRlbHRhWCA9IHRoaXMuZHJhZ0RhdGEueCAtIHRoaXMuZHJhZ0RhdGEubGFzdFg7XHJcbiAgICAgICAgdGhpcy5kcmFnRGF0YS5kZWx0YVkgPSB0aGlzLmRyYWdEYXRhLnkgLSB0aGlzLmRyYWdEYXRhLmxhc3RZO1xyXG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBEcmFnZ2FibGVDb3JlO1xyXG4iLCJpbXBvcnQgRHJhZ2dhYmxlQ29yZSBmcm9tICcuL2RyYWdnYWJsZS1jb3JlJztcclxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMvdXRpbHMnO1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ0ludGVyZmFjZSB7XHJcbiAgICBzZWxlY3Rvcjogc3RyaW5nO1xyXG4gICAgYXhpcz86ICdib3RoJyB8ICd4JyB8ICd5JyB8ICdub25lJztcclxuICAgIGN1cnNvcj86IHN0cmluZztcclxufVxyXG5jbGFzcyBEcmFnZ2FibGUge1xyXG4gICAgZHJhZ2dhYmxlQ29yZTogRHJhZ2dhYmxlQ29yZTtcclxuICAgIGNvbmZpZzogQ29uZmlnSW50ZXJmYWNlO1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWdJbnRlcmZhY2UpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHV0aWxzLmV4dGVuZCh7XHJcbiAgICAgICAgICAgIGF4aXM6ICdib3RoJyxcclxuICAgICAgICAgICAgY3Vyc29yOiAnbW92ZScsXHJcbiAgICAgICAgfSwgY29uZmlnKTtcclxuICAgICAgICB0aGlzLmRyYWdnYWJsZUNvcmUgPSBuZXcgRHJhZ2dhYmxlQ29yZSh0aGlzLmNvbmZpZyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgRHJhZ2dhYmxlO1xyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPScuLy4uL3R5cGVzL2luZGV4LmQudHMnIC8+XHJcblxyXG5pbXBvcnQgRHJhZ2dhYmxlIGZyb20gJy4vanMvY29tcG9uZW50cy9hcHAnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJhZ2dhYmxlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9