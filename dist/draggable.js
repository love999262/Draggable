!function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={$:function(t){return document.querySelector(t)},extend:function(t){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var r=t||{};return r instanceof Object&&e.forEach(function(t){t instanceof Object&&Object.keys(t).forEach(function(e){switch(Object.prototype.toString.call(t[e])){case"[object Object]":t[e]=n.extend(r[e],t[e])}r[e]=t[e]})}),r},parseToDOM:function(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]},find:function(t,e){return t.querySelector(e)},addClass:function(t,e){var a=t.getAttribute("class");a+=" "+e,t.setAttribute("class",a)},removeClass:function(t,e){t.getAttribute("class").replace(e,"")},throttle:function(t){var e,a=this.extend({method:function(){},wait:1e3,ctx:this,immediate:!0,arguments:[]},t);return function(){a.immediate&&(a.method.apply(a.ctx,a.arguments),a.immediate=!1),e||(e=setTimeout(function(){e=null,a.method.apply(a.ctx,a.arguments)},a.wait))}},setData:function(t,e,a){t.dataset?t.dataset.key=a:t.setAttribute("data-"+e,a)},getData:function(t,e){return t.dataset?t.dataset.key:t.getAttribute("data-"+e)},show:function(t){t.style.cssText+=";display"+this.getData(t,"display")},hide:function(t){var e=window&&window.getComputedStyle(t).display||"block";this.setData(t,"display",e),t.style.cssText+=";display: none;"}};e.default=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(2);window&&(window.Draggable=n.default),e.default=n.default},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(3),r=a(0),i=function(){return function(t){this.config=r.default.extend({axis:"both",cursor:"move"},t),this.draggableCore=new n.default(this.config)}}();e.default=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(0),r=a(4),i=function(){function t(t){this.dragging=!1,this.dragData={},this.config=t,this.container=n.default.$(t.selector),this.container.style.cssText+="cursor: "+this.config.cursor,this.registerEvent()}return t.prototype.registerEvent=function(){var t=this;this.container.addEventListener(r.default.start,function(e){t.onDragStart(e,t.dragData)}),document.addEventListener(r.default.move,function(e){t.dragData.deltaX=e.clientX-t.dragData.x,t.dragData.deltaY=e.clientY-t.dragData.y,t.onDrag(e,t.dragData)}),document.addEventListener(r.default.stop,function(e){t.dragData.lastX=e.clientX,t.dragData.lastY=e.clientY,t.onDragStop(e,t.dragData)})},t.prototype.onDragStart=function(t,e){this.dragging=!0;var a=getComputedStyle(this.container).transform.split(",");this.translateX=Number(a[a.length-2]),this.translateY=Number(a[a.length-1].split(")")[0]),this.dragData.x=t.clientX-this.translateX,this.dragData.y=t.clientY-this.translateY},t.prototype.onDrag=function(t,e){if(this.dragging)switch(this.config.axis){case"both":this.container.style.cssText+="transform: translate("+this.dragData.deltaX+"px, "+this.dragData.deltaY+"px)";break;case"x":this.container.style.cssText+="transform: translate("+this.dragData.deltaX+"px, "+this.translateY+"px)";break;case"y":this.container.style.cssText+="transform: translate("+this.translateX+"px, "+this.dragData.deltaY+"px)";break;case"none":break;default:this.container.style.cssText+="transform: translate("+this.dragData.deltaX+"px, "+this.dragData.deltaY+"px)"}},t.prototype.onDragStop=function(t,e){this.dragData.deltaX=this.dragData.x-this.dragData.lastX,this.dragData.deltaY=this.dragData.y-this.dragData.lastY,this.dragging=!1},t}();e.default=i},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.events={start:"mousedown",move:"mousemove",stop:"mouseup"},e.default=e.events}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWxzL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvZHJhZ2dhYmxlLWNvcmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWxzL2V2ZW50LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidXRpbHMiLCIkIiwic2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJleHRlbmQiLCJ0YXJnZXQiLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyZXN1bHQiLCJmb3JFYWNoIiwib2JqIiwia2V5cyIsInRvU3RyaW5nIiwicGFyc2VUb0RPTSIsInN0ciIsImVsZSIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJjaGlsZHJlbiIsImZpbmQiLCJwYXJlbnQiLCJhZGRDbGFzcyIsImNsYXNzTmFtZSIsInRtcENsYXNzIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQ2xhc3MiLCJyZXBsYWNlIiwidGhyb3R0bGUiLCJjb2YiLCJ0aW1lciIsInRoaXMiLCJtZXRob2QiLCJ3YWl0IiwiY3R4IiwiaW1tZWRpYXRlIiwiYXBwbHkiLCJzZXRUaW1lb3V0Iiwic2V0RGF0YSIsImRhdGFzZXQiLCJnZXREYXRhIiwic2hvdyIsInN0eWxlIiwiY3NzVGV4dCIsImhpZGUiLCJkaXNwbGF5U3RhdHVzIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImRpc3BsYXkiLCJkZWZhdWx0IiwiYXBwXzEiLCJEcmFnZ2FibGUiLCJkcmFnZ2FibGVfY29yZV8xIiwidXRpbHNfMSIsImNvbmZpZyIsImF4aXMiLCJjdXJzb3IiLCJkcmFnZ2FibGVDb3JlIiwiZXZlbnRfMSIsIkRyYWdnYWJsZUNvcmUiLCJkcmFnZ2luZyIsImRyYWdEYXRhIiwiY29udGFpbmVyIiwicmVnaXN0ZXJFdmVudCIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXJ0IiwiZSIsIm9uRHJhZ1N0YXJ0IiwibW92ZSIsImRlbHRhWCIsImNsaWVudFgiLCJ4IiwiZGVsdGFZIiwiY2xpZW50WSIsInkiLCJvbkRyYWciLCJzdG9wIiwibGFzdFgiLCJsYXN0WSIsIm9uRHJhZ1N0b3AiLCJkYXRhIiwidHJhbnMiLCJ0cmFuc2Zvcm0iLCJzcGxpdCIsInRyYW5zbGF0ZVgiLCJOdW1iZXIiLCJ0cmFuc2xhdGVZIiwiZXZlbnRzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLG1GQ2xGQSxJQUFNQyxHQUNGQyxFQUFBLFNBQUVDLEdBQ0UsT0FBT0MsU0FBU0MsY0FBY0YsSUFFbENHLE9BQU0sU0FBQ0MsT0FBYSxJQUFBQyxLQUFBQyxFQUFBLEVBQUFBLEVBQUFDLFVBQUFDLE9BQUFGLElBQUFELEVBQUFDLEVBQUEsR0FBQUMsVUFBQUQsR0FDaEIsSUFBTUcsRUFBU0wsTUFlZixPQWRJSyxhQUFrQmpDLFFBQ2xCNkIsRUFBS0ssUUFBUSxTQUFDQyxHQUNOQSxhQUFlbkMsUUFDZkEsT0FBT29DLEtBQUtELEdBQUtELFFBQVEsU0FBQ3JCLEdBQ3RCLE9BQVFiLE9BQU9rQixVQUFVbUIsU0FBUzVDLEtBQUswQyxFQUFJdEIsS0FDdkMsSUFBSyxrQkFDRHNCLEVBQUl0QixHQUFPUyxFQUFNSyxPQUFPTSxFQUFPcEIsR0FBTXNCLEVBQUl0QixJQUdqRG9CLEVBQU9wQixHQUFPc0IsRUFBSXRCLE9BSzNCb0IsR0FFWEssV0FBVSxTQUFDQyxHQUNQLElBQU1DLEVBQU1mLFNBQVNnQixjQUFjLE9BRW5DLE9BREFELEVBQUlFLFVBQVlILEVBQ1RDLEVBQUlHLFNBQVMsSUFFeEJDLEtBQUksU0FBQ0MsRUFBcUJGLEdBQ3RCLE9BQU9FLEVBQU9uQixjQUFjaUIsSUFFaENHLFNBQVEsU0FBQ04sRUFBa0JPLEdBQ3ZCLElBQUlDLEVBQW1CUixFQUFJUyxhQUFhLFNBQ3hDRCxHQUFZLElBQUlELEVBQ2hCUCxFQUFJVSxhQUFhLFFBQVNGLElBRTlCRyxZQUFXLFNBQUNYLEVBQWtCTyxHQUNUUCxFQUFJUyxhQUFhLFNBQ3pCRyxRQUFRTCxFQUFXLEtBRWhDTSxTQUFRLFNBQUNDLEdBQ0wsSUFPSUMsRUFQRXhELEVBQUl5RCxLQUFLN0IsUUFDWDhCLE9BQVEsYUFDUkMsS0FBTSxJQUNOQyxJQUFLSCxLQUNMSSxXQUFXLEVBQ1g3QixjQUNEdUIsR0FFSCxPQUFPLFdBQ0N2RCxFQUFFNkQsWUFDRjdELEVBQUUwRCxPQUFPSSxNQUFNOUQsRUFBRTRELElBQUs1RCxFQUFFZ0MsV0FDeEJoQyxFQUFFNkQsV0FBWSxHQUViTCxJQUNEQSxFQUFRTyxXQUFXLFdBQ2ZQLEVBQVEsS0FDUnhELEVBQUUwRCxPQUFPSSxNQUFNOUQsRUFBRTRELElBQUs1RCxFQUFFZ0MsWUFDekJoQyxFQUFFMkQsU0FJakJLLFFBQU8sU0FBQ3ZCLEVBQWtCM0IsRUFBYU4sR0FDL0JpQyxFQUFJd0IsUUFDSnhCLEVBQUl3QixRQUFRbkQsSUFBTU4sRUFFbEJpQyxFQUFJVSxhQUFhLFFBQVFyQyxFQUFPTixJQUd4QzBELFFBQU8sU0FBQ3pCLEVBQWtCM0IsR0FDdEIsT0FBSTJCLEVBQUl3QixRQUNHeEIsRUFBSXdCLFFBQVFuRCxJQUVaMkIsRUFBSVMsYUFBYSxRQUFRcEMsSUFHeENxRCxLQUFJLFNBQUMxQixHQUNEQSxFQUFJMkIsTUFBTUMsU0FBVyxXQUFXWixLQUFLUyxRQUFRekIsRUFBSyxZQUV0RDZCLEtBQUksU0FBQzdCLEdBQ0QsSUFBTThCLEVBQWdCQyxRQUFVQSxPQUFPQyxpQkFBaUJoQyxHQUFLaUMsU0FBVyxRQUN4RWpCLEtBQUtPLFFBQVF2QixFQUFLLFVBQVc4QixHQUM3QjlCLEVBQUkyQixNQUFNQyxTQUFXLG9CQUk3QmhGLEVBQUFzRixRQUFlcEQsaUZDbkZmLElBQUFxRCxFQUFBekYsRUFBQSxHQUVJcUYsU0FDQUEsT0FBT0ssVUFBWUQsRUFBQUQsU0FHdkJ0RixFQUFBc0YsUUFBZUMsRUFBQUQsdUZDUmYsSUFBQUcsRUFBQTNGLEVBQUEsR0FDQTRGLEVBQUE1RixFQUFBLEdBTUEwRixFQUFBLFdBV0EsT0FSSSxTQUFZRyxHQUNSdkIsS0FBS3VCLE9BQVNELEVBQUFKLFFBQU0vQyxRQUNoQnFELEtBQU0sT0FDTkMsT0FBUSxRQUNURixHQUNIdkIsS0FBSzBCLGNBQWdCLElBQUlMLEVBQUFILFFBQWNsQixLQUFLdUIsU0FScEQsR0FZQTNGLEVBQUFzRixRQUFlRSxpRkNuQmYsSUFBQUUsRUFBQTVGLEVBQUEsR0FDQWlHLEVBQUFqRyxFQUFBLEdBY0FrRyxFQUFBLFdBT0ksU0FBQUEsRUFBWUwsR0FKWnZCLEtBQUE2QixVQUFvQixFQUNwQjdCLEtBQUE4QixZQUlJOUIsS0FBS3VCLE9BQVNBLEVBQ2R2QixLQUFLK0IsVUFBWVQsRUFBQUosUUFBTW5ELEVBQUV3RCxFQUFPdkQsVUFDaENnQyxLQUFLK0IsVUFBVXBCLE1BQU1DLFNBQVcsV0FBV1osS0FBS3VCLE9BQU9FLE9BQ3ZEekIsS0FBS2dDLGdCQW9EYixPQWxESUosRUFBQWxFLFVBQUFzRSxjQUFBLGVBQUFDLEVBQUFqQyxLQUNJQSxLQUFLK0IsVUFBVUcsaUJBQWlCUCxFQUFBVCxRQUFPaUIsTUFBTyxTQUFDQyxHQUMzQ0gsRUFBS0ksWUFBWUQsRUFBR0gsRUFBS0gsWUFFN0I3RCxTQUFTaUUsaUJBQWlCUCxFQUFBVCxRQUFPb0IsS0FBTSxTQUFDRixHQUNwQ0gsRUFBS0gsU0FBU1MsT0FBU0gsRUFBRUksUUFBVVAsRUFBS0gsU0FBU1csRUFDakRSLEVBQUtILFNBQVNZLE9BQVNOLEVBQUVPLFFBQVVWLEVBQUtILFNBQVNjLEVBQ2pEWCxFQUFLWSxPQUFPVCxFQUFHSCxFQUFLSCxZQUV4QjdELFNBQVNpRSxpQkFBaUJQLEVBQUFULFFBQU80QixLQUFNLFNBQUNWLEdBQ3BDSCxFQUFLSCxTQUFTaUIsTUFBUVgsRUFBRUksUUFDeEJQLEVBQUtILFNBQVNrQixNQUFRWixFQUFFTyxRQUN4QlYsRUFBS2dCLFdBQVdiLEVBQUdILEVBQUtILGFBR2hDRixFQUFBbEUsVUFBQTJFLFlBQUEsU0FBWUQsRUFBZWMsR0FDdkJsRCxLQUFLNkIsVUFBVyxFQUNoQixJQUFNc0IsRUFBUW5DLGlCQUFpQmhCLEtBQUsrQixXQUFXcUIsVUFBVUMsTUFBTSxLQUMvRHJELEtBQUtzRCxXQUFhQyxPQUFPSixFQUFNQSxFQUFNM0UsT0FBUyxJQUM5Q3dCLEtBQUt3RCxXQUFhRCxPQUFPSixFQUFNQSxFQUFNM0UsT0FBUyxHQUFHNkUsTUFBTSxLQUFLLElBQzVEckQsS0FBSzhCLFNBQVNXLEVBQUlMLEVBQUVJLFFBQVV4QyxLQUFLc0QsV0FDbkN0RCxLQUFLOEIsU0FBU2MsRUFBSVIsRUFBRU8sUUFBVTNDLEtBQUt3RCxZQUV2QzVCLEVBQUFsRSxVQUFBbUYsT0FBQSxTQUFPVCxFQUFlYyxHQUNsQixHQUFJbEQsS0FBSzZCLFNBQ0wsT0FBUTdCLEtBQUt1QixPQUFPQyxNQUNoQixJQUFLLE9BQ0R4QixLQUFLK0IsVUFBVXBCLE1BQU1DLFNBQVcsd0JBQXdCWixLQUFLOEIsU0FBU1MsT0FBTSxPQUFPdkMsS0FBSzhCLFNBQVNZLE9BQU0sTUFDdkcsTUFDSixJQUFLLElBQ0QxQyxLQUFLK0IsVUFBVXBCLE1BQU1DLFNBQVcsd0JBQXdCWixLQUFLOEIsU0FBU1MsT0FBTSxPQUFPdkMsS0FBS3dELFdBQVUsTUFDbEcsTUFDSixJQUFLLElBQ0R4RCxLQUFLK0IsVUFBVXBCLE1BQU1DLFNBQVcsd0JBQXdCWixLQUFLc0QsV0FBVSxPQUFPdEQsS0FBSzhCLFNBQVNZLE9BQU0sTUFDbEcsTUFDSixJQUFLLE9BQ0QsTUFDSixRQUNJMUMsS0FBSytCLFVBQVVwQixNQUFNQyxTQUFXLHdCQUF3QlosS0FBSzhCLFNBQVNTLE9BQU0sT0FBT3ZDLEtBQUs4QixTQUFTWSxPQUFNLFFBT3ZIZCxFQUFBbEUsVUFBQXVGLFdBQUEsU0FBV2IsRUFBZWMsR0FDdEJsRCxLQUFLOEIsU0FBU1MsT0FBU3ZDLEtBQUs4QixTQUFTVyxFQUFJekMsS0FBSzhCLFNBQVNpQixNQUN2RC9DLEtBQUs4QixTQUFTWSxPQUFTMUMsS0FBSzhCLFNBQVNjLEVBQUk1QyxLQUFLOEIsU0FBU2tCLE1BQ3ZEaEQsS0FBSzZCLFVBQVcsR0FFeEJELEVBL0RBLEdBZ0VBaEcsRUFBQXNGLFFBQWVVLGlGQzlFRmhHLEVBQUE2SCxRQUNUdEIsTUFBTyxZQUNQRyxLQUFNLFlBQ05RLEtBQU0sV0FHVmxILEVBQUFzRixRQUFldEYsRUFBQTZIIiwiZmlsZSI6ImRyYWdnYWJsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImNvbnN0IHV0aWxzID0ge1xuICAgICQoc2VsZWN0b3I6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH0sXG4gICAgZXh0ZW5kKHRhcmdldDogYW55LCAuLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQgfHwge307XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgIGFyZ3MuZm9yRWFjaCgob2JqOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdbb2JqZWN0IE9iamVjdF0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHV0aWxzLmV4dGVuZChyZXN1bHRba2V5XSwgb2JqW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBwYXJzZVRvRE9NKHN0cjogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbGUuaW5uZXJIVE1MID0gc3RyO1xuICAgICAgICByZXR1cm4gZWxlLmNoaWxkcmVuWzBdO1xuICAgIH0sXG4gICAgZmluZChwYXJlbnQ6IEhUTUxFbGVtZW50LCBjaGlsZHJlbjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3RvcihjaGlsZHJlbik7XG4gICAgfSxcbiAgICBhZGRDbGFzcyhlbGU6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZykge1xuICAgICAgICBsZXQgdG1wQ2xhc3M6IHN0cmluZyA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICAgIHRtcENsYXNzICs9IGAgJHtjbGFzc05hbWV9YDtcbiAgICAgICAgZWxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0bXBDbGFzcyk7XG4gICAgfSxcbiAgICByZW1vdmVDbGFzcyhlbGU6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCB0bXBDbGFzcyA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICAgIHRtcENsYXNzLnJlcGxhY2UoY2xhc3NOYW1lLCAnJyk7XG4gICAgfSxcbiAgICB0aHJvdHRsZShjb2Y6IGFueSkge1xuICAgICAgICBjb25zdCBvID0gdGhpcy5leHRlbmQoe1xuICAgICAgICAgICAgbWV0aG9kOiAoKSA9PiB7fSwgXG4gICAgICAgICAgICB3YWl0OiAxMDAwLFxuICAgICAgICAgICAgY3R4OiB0aGlzLFxuICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLFxuICAgICAgICAgICAgYXJndW1lbnRzOiBbXSxcbiAgICAgICAgfSwgY29mKTtcbiAgICAgICAgbGV0IHRpbWVyOiBudW1iZXI7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoby5pbW1lZGlhdGUpIHtcbiAgICAgICAgICAgICAgICBvLm1ldGhvZC5hcHBseShvLmN0eCwgby5hcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIG8uaW1tZWRpYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRpbWVyKSB7XG4gICAgICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBvLm1ldGhvZC5hcHBseShvLmN0eCwgby5hcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH0sIG8ud2FpdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzZXREYXRhKGVsZTogSFRNTEVsZW1lbnQsIGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmIChlbGUuZGF0YXNldCkge1xuICAgICAgICAgICAgZWxlLmRhdGFzZXQua2V5ID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGUuc2V0QXR0cmlidXRlKGBkYXRhLSR7a2V5fWAsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0RGF0YShlbGU6IEhUTUxFbGVtZW50LCBrZXk6IHN0cmluZykge1xuICAgICAgICBpZiAoZWxlLmRhdGFzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGUuZGF0YXNldC5rZXk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlLmdldEF0dHJpYnV0ZShgZGF0YS0ke2tleX1gKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2hvdyhlbGU6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGVsZS5zdHlsZS5jc3NUZXh0ICs9IGA7ZGlzcGxheSR7dGhpcy5nZXREYXRhKGVsZSwgJ2Rpc3BsYXknIHx8ICdibG9jaycpfWA7XG4gICAgfSxcbiAgICBoaWRlKGVsZTogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZGlzcGxheVN0YXR1cyA9IHdpbmRvdyAmJiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGUpLmRpc3BsYXkgfHwgJ2Jsb2NrJztcbiAgICAgICAgdGhpcy5zZXREYXRhKGVsZSwgJ2Rpc3BsYXknLCBkaXNwbGF5U3RhdHVzKTtcbiAgICAgICAgZWxlLnN0eWxlLmNzc1RleHQgKz0gJztkaXNwbGF5OiBub25lOyc7XG4gICAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHV0aWxzO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD0nLi8uLi90eXBlcy9pbmRleC5kLnRzJyAvPlxuXG5pbXBvcnQgRHJhZ2dhYmxlIGZyb20gJy4vanMvY29tcG9uZW50cy9hcHAnO1xuXG5pZiAod2luZG93KSB7XG4gICAgd2luZG93LkRyYWdnYWJsZSA9IERyYWdnYWJsZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhZ2dhYmxlO1xuIiwiaW1wb3J0IERyYWdnYWJsZUNvcmUgZnJvbSAnLi9kcmFnZ2FibGUtY29yZSc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy91dGlscyc7XG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ0ludGVyZmFjZSB7XG4gICAgc2VsZWN0b3I6IHN0cmluZztcbiAgICBheGlzPzogJ2JvdGgnIHwgJ3gnIHwgJ3knIHwgJ25vbmUnO1xuICAgIGN1cnNvcj86IHN0cmluZztcbn1cbmNsYXNzIERyYWdnYWJsZSB7XG4gICAgZHJhZ2dhYmxlQ29yZTogRHJhZ2dhYmxlQ29yZTtcbiAgICBjb25maWc6IENvbmZpZ0ludGVyZmFjZTtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbmZpZ0ludGVyZmFjZSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHV0aWxzLmV4dGVuZCh7XG4gICAgICAgICAgICBheGlzOiAnYm90aCcsXG4gICAgICAgICAgICBjdXJzb3I6ICdtb3ZlJyxcbiAgICAgICAgfSwgY29uZmlnKTtcbiAgICAgICAgdGhpcy5kcmFnZ2FibGVDb3JlID0gbmV3IERyYWdnYWJsZUNvcmUodGhpcy5jb25maWcpO1xuICAgIH1cbiAgICBcbn1cbmV4cG9ydCBkZWZhdWx0IERyYWdnYWJsZTtcbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCBldmVudHMgZnJvbSAnLi8uLi91dGlscy9ldmVudCc7XG5pbXBvcnQgeyBDb25maWdJbnRlcmZhY2UgfSBmcm9tICcuL2FwcCc7XG5cbmludGVyZmFjZSBEYXJnRGF0YUludGVyZmFjZSB7XG4gICAgLy8geCAtIGRlbHRhWCA9PT0gbGFzdFhcbiAgICBub2RlPzogSFRNTEVsZW1lbnQ7XG4gICAgeD86IG51bWJlcjtcbiAgICB5PzogbnVtYmVyO1xuICAgIGRlbHRhWD86IG51bWJlcjtcbiAgICBkZWx0YVk/OiBudW1iZXI7XG4gICAgbGFzdFg/OiBudW1iZXI7XG4gICAgbGFzdFk/OiBudW1iZXI7XG59XG5cbmNsYXNzIERyYWdnYWJsZUNvcmUge1xuICAgIGNvbmZpZzogQ29uZmlnSW50ZXJmYWNlO1xuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgZHJhZ2dpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBkcmFnRGF0YTogRGFyZ0RhdGFJbnRlcmZhY2UgPSB7fTtcbiAgICB0cmFuc2xhdGVYOiBudW1iZXI7XG4gICAgdHJhbnNsYXRlWTogbnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29uZmlnSW50ZXJmYWNlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHV0aWxzLiQoY29uZmlnLnNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuY3NzVGV4dCArPSBgY3Vyc29yOiAke3RoaXMuY29uZmlnLmN1cnNvcn1gO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoKTtcbiAgICB9XG4gICAgcmVnaXN0ZXJFdmVudCgpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuc3RhcnQsIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0KGUsIHRoaXMuZHJhZ0RhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMubW92ZSwgKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0RhdGEuZGVsdGFYID0gZS5jbGllbnRYIC0gdGhpcy5kcmFnRGF0YS54O1xuICAgICAgICAgICAgdGhpcy5kcmFnRGF0YS5kZWx0YVkgPSBlLmNsaWVudFkgLSB0aGlzLmRyYWdEYXRhLnk7XG4gICAgICAgICAgICB0aGlzLm9uRHJhZyhlLCB0aGlzLmRyYWdEYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLnN0b3AsIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRyYWdEYXRhLmxhc3RYID0gZS5jbGllbnRYO1xuICAgICAgICAgICAgdGhpcy5kcmFnRGF0YS5sYXN0WSA9IGUuY2xpZW50WTtcbiAgICAgICAgICAgIHRoaXMub25EcmFnU3RvcChlLCB0aGlzLmRyYWdEYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uRHJhZ1N0YXJ0KGU6IE1vdXNlRXZlbnQsIGRhdGE/OiBEYXJnRGF0YUludGVyZmFjZSkge1xuICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgdHJhbnMgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuY29udGFpbmVyKS50cmFuc2Zvcm0uc3BsaXQoJywnKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGVYID0gTnVtYmVyKHRyYW5zW3RyYW5zLmxlbmd0aCAtIDJdKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGVZID0gTnVtYmVyKHRyYW5zW3RyYW5zLmxlbmd0aCAtIDFdLnNwbGl0KCcpJylbMF0pO1xuICAgICAgICB0aGlzLmRyYWdEYXRhLnggPSBlLmNsaWVudFggLSB0aGlzLnRyYW5zbGF0ZVg7XG4gICAgICAgIHRoaXMuZHJhZ0RhdGEueSA9IGUuY2xpZW50WSAtIHRoaXMudHJhbnNsYXRlWTtcbiAgICB9XG4gICAgb25EcmFnKGU6IE1vdXNlRXZlbnQsIGRhdGE/OiBEYXJnRGF0YUludGVyZmFjZSkge1xuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZykge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmNvbmZpZy5heGlzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm90aCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmNzc1RleHQgKz0gYHRyYW5zZm9ybTogdHJhbnNsYXRlKCR7dGhpcy5kcmFnRGF0YS5kZWx0YVh9cHgsICR7dGhpcy5kcmFnRGF0YS5kZWx0YVl9cHgpYDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAneCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmNzc1RleHQgKz0gYHRyYW5zZm9ybTogdHJhbnNsYXRlKCR7dGhpcy5kcmFnRGF0YS5kZWx0YVh9cHgsICR7dGhpcy50cmFuc2xhdGVZfXB4KWA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3knOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ICs9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke3RoaXMudHJhbnNsYXRlWH1weCwgJHt0aGlzLmRyYWdEYXRhLmRlbHRhWX1weClgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuY3NzVGV4dCArPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHt0aGlzLmRyYWdEYXRhLmRlbHRhWH1weCwgJHt0aGlzLmRyYWdEYXRhLmRlbHRhWX1weClgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH1cbiAgICB9XG4gICAgb25EcmFnU3RvcChlOiBNb3VzZUV2ZW50LCBkYXRhPzogRGFyZ0RhdGFJbnRlcmZhY2UpIHtcbiAgICAgICAgdGhpcy5kcmFnRGF0YS5kZWx0YVggPSB0aGlzLmRyYWdEYXRhLnggLSB0aGlzLmRyYWdEYXRhLmxhc3RYO1xuICAgICAgICB0aGlzLmRyYWdEYXRhLmRlbHRhWSA9IHRoaXMuZHJhZ0RhdGEueSAtIHRoaXMuZHJhZ0RhdGEubGFzdFk7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBEcmFnZ2FibGVDb3JlO1xuIiwiXG5leHBvcnQgY29uc3QgZXZlbnRzID0ge1xuICAgIHN0YXJ0OiAnbW91c2Vkb3duJyxcbiAgICBtb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgICBzdG9wOiAnbW91c2V1cCcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBldmVudHM7XG4iXSwic291cmNlUm9vdCI6IiJ9